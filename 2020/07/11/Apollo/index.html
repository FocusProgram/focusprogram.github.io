<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/k-focusprogram.gitee.io/img/Mr.Kong.jpg">
  <link rel="icon" type="image/png" href="/k-focusprogram.gitee.io/img/Mr.Kong.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="May you experience the pain and happiness in your life">
  <meta name="author" content="Mr.Kong">
  <meta name="keywords" content="">
  <title>Apollo - Mr.Kong Blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/k-focusprogram.gitee.io/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/dark.min.css" />
  

  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/k-focusprogram.gitee.io/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script  src="/k-focusprogram.gitee.io/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/k-focusprogram.gitee.io/">&nbsp;<strong>Mr.Kong</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/k-focusprogram.gitee.io/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/k-focusprogram.gitee.io/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/k-focusprogram.gitee.io/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/k-focusprogram.gitee.io/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/k-focusprogram.gitee.io/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é“¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/k-focusprogram.gitee.io/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-bookmark-fill"></i>
                å¼€æºåœ°å€
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="https://gitee.com/FocusProgram/" target="_blank" rel="noopener">
                    
                    Gitee
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://github.com/FocusProgram/" target="_blank" rel="noopener">
                    
                    GitHub
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/k-focusprogram.gitee.io/img/neight.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-07-11 01:52">
      2020å¹´7æœˆ11æ—¥ å‡Œæ™¨
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.6k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      48
       åˆ†é’Ÿ
    </span>
  

  
  
    
      <!-- ä¸è’œå­ç»Ÿè®¡æ–‡ç« PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> æ¬¡
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
              <p class="note note-info">
                
                  æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2 å¤©å‰
                
              </p>
            
            <article class="markdown-body">
              <p><strong>Apollo</strong></p>
<hr>
<h1 id="1-ä»€ä¹ˆæ˜¯Apollo"><a href="#1-ä»€ä¹ˆæ˜¯Apollo" class="headerlink" title="1. ä»€ä¹ˆæ˜¯Apollo?"></a>1. ä»€ä¹ˆæ˜¯Apollo?</h1><p><a href="https://github.com/ctripcorp/apollo" target="_blank" rel="noopener">Apollo</a><br>ï¼ˆé˜¿æ³¢ç½—ï¼‰æ˜¯æºç¨‹æ¡†æ¶éƒ¨é—¨ç ”å‘çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œèƒ½å¤Ÿé›†ä¸­åŒ–ç®¡ç†åº”ç”¨ä¸åŒç¯å¢ƒã€ä¸åŒé›†ç¾¤çš„é…ç½®ï¼Œé…ç½®ä¿®æ”¹åèƒ½å¤Ÿå®æ—¶æ¨é€åˆ°åº”ç”¨ç«¯ï¼Œå¹¶ä¸”å…·å¤‡è§„èŒƒçš„æƒé™ã€æµç¨‹æ²»ç†ç­‰ç‰¹æ€§ï¼Œé€‚ç”¨äºå¾®æœåŠ¡é…ç½®ç®¡ç†åœºæ™¯ã€‚</p>
<h1 id="2-ç‰¹ç‚¹"><a href="#2-ç‰¹ç‚¹" class="headerlink" title="2. ç‰¹ç‚¹"></a>2. ç‰¹ç‚¹</h1><ul>
<li><p><strong>ç»Ÿä¸€ç®¡ç†ä¸åŒç¯å¢ƒã€ä¸åŒé›†ç¾¤çš„é…ç½®</strong></p>
<ul>
<li>Apolloæä¾›äº†ä¸€ä¸ªç»Ÿä¸€ç•Œé¢é›†ä¸­å¼ç®¡ç†ä¸åŒç¯å¢ƒï¼ˆenvironmentï¼‰ã€ä¸åŒé›†ç¾¤ï¼ˆclusterï¼‰ã€ä¸åŒå‘½åç©ºé—´ï¼ˆnamespaceï¼‰çš„é…ç½®ã€‚</li>
<li>åŒä¸€ä»½ä»£ç éƒ¨ç½²åœ¨ä¸åŒçš„é›†ç¾¤ï¼Œå¯ä»¥æœ‰ä¸åŒçš„é…ç½®ï¼Œæ¯”å¦‚zkçš„åœ°å€ç­‰</li>
<li>é€šè¿‡å‘½åç©ºé—´ï¼ˆnamespaceï¼‰å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ”¯æŒå¤šä¸ªä¸åŒåº”ç”¨å…±äº«åŒä¸€ä»½é…ç½®ï¼ŒåŒæ—¶è¿˜å…è®¸åº”ç”¨å¯¹å…±äº«çš„é…ç½®è¿›è¡Œè¦†ç›–</li>
<li>é…ç½®ç•Œé¢æ”¯æŒå¤šè¯­è¨€ï¼ˆä¸­æ–‡ï¼ŒEnglishï¼‰</li>
</ul>
</li>
<li><p><strong>é…ç½®ä¿®æ”¹å®æ—¶ç”Ÿæ•ˆï¼ˆçƒ­å‘å¸ƒï¼‰</strong></p>
<ul>
<li>ç”¨æˆ·åœ¨Apolloä¿®æ”¹å®Œé…ç½®å¹¶å‘å¸ƒåï¼Œå®¢æˆ·ç«¯èƒ½å®æ—¶ï¼ˆ1ç§’ï¼‰æ¥æ”¶åˆ°æœ€æ–°çš„é…ç½®ï¼Œå¹¶é€šçŸ¥åˆ°åº”ç”¨ç¨‹åºã€‚</li>
</ul>
</li>
<li><p><strong>ç‰ˆæœ¬å‘å¸ƒç®¡ç†</strong></p>
<ul>
<li>æ‰€æœ‰çš„é…ç½®å‘å¸ƒéƒ½æœ‰ç‰ˆæœ¬æ¦‚å¿µï¼Œä»è€Œå¯ä»¥æ–¹ä¾¿çš„æ”¯æŒé…ç½®çš„å›æ»šã€‚</li>
</ul>
</li>
<li><p><strong>ç°åº¦å‘å¸ƒ</strong></p>
<ul>
<li>æ”¯æŒé…ç½®çš„ç°åº¦å‘å¸ƒï¼Œæ¯”å¦‚ç‚¹äº†å‘å¸ƒåï¼Œåªå¯¹éƒ¨åˆ†åº”ç”¨å®ä¾‹ç”Ÿæ•ˆï¼Œç­‰è§‚å¯Ÿä¸€æ®µæ—¶é—´æ²¡é—®é¢˜åå†æ¨ç»™æ‰€æœ‰åº”ç”¨å®ä¾‹ã€‚</li>
</ul>
</li>
<li><p><strong>æƒé™ç®¡ç†ã€å‘å¸ƒå®¡æ ¸ã€æ“ä½œå®¡è®¡</strong></p>
<ul>
<li>åº”ç”¨å’Œé…ç½®çš„ç®¡ç†éƒ½æœ‰å®Œå–„çš„æƒé™ç®¡ç†æœºåˆ¶ï¼Œå¯¹é…ç½®çš„ç®¡ç†è¿˜åˆ†ä¸ºäº†ç¼–è¾‘å’Œå‘å¸ƒä¸¤ä¸ªç¯èŠ‚ï¼Œä»è€Œå‡å°‘äººä¸ºçš„é”™è¯¯ã€‚</li>
<li>æ‰€æœ‰çš„æ“ä½œéƒ½æœ‰å®¡è®¡æ—¥å¿—ï¼Œå¯ä»¥æ–¹ä¾¿çš„è¿½è¸ªé—®é¢˜ã€‚</li>
</ul>
</li>
<li><p><strong>å®¢æˆ·ç«¯é…ç½®ä¿¡æ¯ç›‘æ§</strong></p>
<ul>
<li>å¯ä»¥æ–¹ä¾¿çš„çœ‹åˆ°é…ç½®åœ¨è¢«å“ªäº›å®ä¾‹ä½¿ç”¨</li>
</ul>
</li>
<li><p><strong>æä¾›Javaå’Œ.NetåŸç”Ÿå®¢æˆ·ç«¯</strong></p>
<ul>
<li>æä¾›äº†Javaå’Œ.Netçš„åŸç”Ÿå®¢æˆ·ç«¯ï¼Œæ–¹ä¾¿åº”ç”¨é›†æˆ</li>
<li>æ”¯æŒSpring Placeholderï¼ŒAnnotationå’ŒSpring Bootçš„ConfigurationPropertiesï¼Œæ–¹ä¾¿åº”ç”¨ä½¿ç”¨ï¼ˆéœ€è¦Spring 3.1.1+ï¼‰</li>
<li>åŒæ—¶æä¾›äº†Httpæ¥å£ï¼ŒéJavaå’Œ.Netåº”ç”¨ä¹Ÿå¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨</li>
</ul>
</li>
<li><p><strong>æä¾›å¼€æ”¾å¹³å°API</strong></p>
<ul>
<li>Apolloè‡ªèº«æä¾›äº†æ¯”è¾ƒå®Œå–„çš„ç»Ÿä¸€é…ç½®ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒå¤šç¯å¢ƒã€å¤šæ•°æ®ä¸­å¿ƒé…ç½®ç®¡ç†ã€æƒé™ã€æµç¨‹æ²»ç†ç­‰ç‰¹æ€§ã€‚</li>
<li>ä¸è¿‡Apolloå‡ºäºé€šç”¨æ€§è€ƒè™‘ï¼Œå¯¹é…ç½®çš„ä¿®æ”¹ä¸ä¼šåšè¿‡å¤šé™åˆ¶ï¼Œåªè¦ç¬¦åˆåŸºæœ¬çš„æ ¼å¼å°±èƒ½å¤Ÿä¿å­˜ã€‚</li>
<li>åœ¨æˆ‘ä»¬çš„è°ƒç ”ä¸­å‘ç°ï¼Œå¯¹äºæœ‰äº›ä½¿ç”¨æ–¹ï¼Œå®ƒä»¬çš„é…ç½®å¯èƒ½ä¼šæœ‰æ¯”è¾ƒå¤æ‚çš„æ ¼å¼ï¼Œå¦‚xml, jsonï¼Œéœ€è¦å¯¹æ ¼å¼åšæ ¡éªŒã€‚</li>
<li>è¿˜æœ‰ä¸€äº›ä½¿ç”¨æ–¹å¦‚DALï¼Œä¸ä»…æœ‰ç‰¹å®šçš„æ ¼å¼ï¼Œè€Œä¸”å¯¹è¾“å…¥çš„å€¼ä¹Ÿéœ€è¦è¿›è¡Œæ ¡éªŒåæ–¹å¯ä¿å­˜ï¼Œå¦‚æ£€æŸ¥æ•°æ®åº“ã€ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦åŒ¹é…ã€‚</li>
<li>å¯¹äºè¿™ç±»åº”ç”¨ï¼ŒApolloæ”¯æŒåº”ç”¨æ–¹é€šè¿‡å¼€æ”¾æ¥å£åœ¨Apolloè¿›è¡Œé…ç½®çš„ä¿®æ”¹å’Œå‘å¸ƒï¼Œå¹¶ä¸”å…·å¤‡å®Œå–„çš„æˆæƒå’Œæƒé™æ§åˆ¶</li>
</ul>
</li>
</ul>
<h1 id="3-è®¾è®¡-å®˜æ–¹æ–‡æ¡£å‚è€ƒåœ°å€"><a href="#3-è®¾è®¡-å®˜æ–¹æ–‡æ¡£å‚è€ƒåœ°å€" class="headerlink" title="3. è®¾è®¡(å®˜æ–¹æ–‡æ¡£å‚è€ƒåœ°å€)"></a>3. è®¾è®¡(<a href="https://github.com/ctripcorp/apollo/wiki/Apollo%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£å‚è€ƒåœ°å€</a>)</h1><h2 id="3-1-åŸºç¡€æ¨¡å‹"><a href="#3-1-åŸºç¡€æ¨¡å‹" class="headerlink" title="3.1 åŸºç¡€æ¨¡å‹"></a>3.1 åŸºç¡€æ¨¡å‹</h2><p>å¦‚ä¸‹å³æ˜¯Apolloçš„åŸºç¡€æ¨¡å‹ï¼š</p>
<ol>
<li>ç”¨æˆ·åœ¨é…ç½®ä¸­å¿ƒå¯¹é…ç½®è¿›è¡Œä¿®æ”¹å¹¶å‘å¸ƒ</li>
<li>é…ç½®ä¸­å¿ƒé€šçŸ¥Apolloå®¢æˆ·ç«¯æœ‰é…ç½®æ›´æ–°</li>
<li>Apolloå®¢æˆ·ç«¯ä»é…ç½®ä¸­å¿ƒæ‹‰å–æœ€æ–°çš„é…ç½®ã€æ›´æ–°æœ¬åœ°é…ç½®å¹¶é€šçŸ¥åˆ°åº”ç”¨</li>
</ol>
<p><img src="https://image.focusprogram.top/basic-architecture.png" srcset="/img/loading.gif" alt=""></p>
<h2 id="3-2-ç•Œé¢æ¦‚è§ˆ"><a href="#3-2-ç•Œé¢æ¦‚è§ˆ" class="headerlink" title="3.2 ç•Œé¢æ¦‚è§ˆ"></a>3.2 ç•Œé¢æ¦‚è§ˆ</h2><p><img src="https://image.focusprogram.top/apollo-home-screenshot.png" srcset="/img/loading.gif" alt=""></p>
<h2 id="3-3-æ·»åŠ -ä¿®æ”¹é…ç½®é¡¹"><a href="#3-3-æ·»åŠ -ä¿®æ”¹é…ç½®é¡¹" class="headerlink" title="3.3  æ·»åŠ /ä¿®æ”¹é…ç½®é¡¹"></a>3.3  æ·»åŠ /ä¿®æ”¹é…ç½®é¡¹</h2><p>ç”¨æˆ·å¯ä»¥é€šè¿‡é…ç½®ä¸­å¿ƒç•Œé¢æ–¹ä¾¿çš„æ·»åŠ /ä¿®æ”¹é…ç½®é¡¹ï¼Œæ›´å¤šä½¿ç”¨è¯´æ˜è¯·å‚è§åº”ç”¨<a href="https://github.com/ctripcorp/apollo/wiki/%E5%BA%94%E7%94%A8%E6%8E%A5%E5%85%A5%E6%8C%87%E5%8D%97" target="_blank" rel="noopener">æ¥å…¥æŒ‡å—</a></p>
<p><img src="https://image.focusprogram.top/edit-item-entry.png" srcset="/img/loading.gif" alt=""></p>
<p>è¾“å…¥é…ç½®ä¿¡æ¯ï¼š</p>
<p><img src="https://image.focusprogram.top/edit-item.png" srcset="/img/loading.gif" alt=""></p>
<h2 id="3-4-å‘å¸ƒé…ç½®"><a href="#3-4-å‘å¸ƒé…ç½®" class="headerlink" title="3.4  å‘å¸ƒé…ç½®"></a>3.4  å‘å¸ƒé…ç½®</h2><p>é€šè¿‡é…ç½®ä¸­å¿ƒå‘å¸ƒé…ç½®ï¼š</p>
<p><img src="https://image.focusprogram.top/publish-items-entry.png" srcset="/img/loading.gif" alt=""></p>
<p>å¡«å†™å‘å¸ƒä¿¡æ¯ï¼š</p>
<p><img src="https://image.focusprogram.top/publish-items.png" srcset="/img/loading.gif" alt=""></p>
<h2 id="3-5-å®¢æˆ·ç«¯è·å–é…ç½®ï¼ˆJava-APIæ ·ä¾‹ï¼‰"><a href="#3-5-å®¢æˆ·ç«¯è·å–é…ç½®ï¼ˆJava-APIæ ·ä¾‹ï¼‰" class="headerlink" title="3.5 å®¢æˆ·ç«¯è·å–é…ç½®ï¼ˆJava APIæ ·ä¾‹ï¼‰"></a>3.5 å®¢æˆ·ç«¯è·å–é…ç½®ï¼ˆJava APIæ ·ä¾‹ï¼‰</h2><p>é…ç½®å‘å¸ƒåï¼Œå°±èƒ½åœ¨å®¢æˆ·ç«¯è·å–åˆ°äº†ï¼Œä»¥Javaä¸ºä¾‹ï¼Œè·å–é…ç½®çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ã€‚Apolloå®¢æˆ·ç«¯è¿˜æ”¯æŒå’ŒSpringæ•´åˆï¼Œæ›´å¤šå®¢æˆ·ç«¯ä½¿ç”¨è¯´æ˜è¯·å‚è§<a href="https://github.com/ctripcorp/apollo/wiki/Java%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97" target="_blank" rel="noopener">Javaå®¢æˆ·ç«¯ä½¿ç”¨æŒ‡å—</a>ã€‚</p>
<div class="hljs"><pre><code class="hljs java">Config config = ConfigService.getAppConfig();
Integer defaultRequestTimeout = <span class="hljs-number">200</span>;
Integer requestTimeout = config.getIntProperty(<span class="hljs-string">"requestTimeout"</span>, defaultRequestTimeout);</code></pre></div>

<h2 id="3-6-å®¢æˆ·ç«¯ç›‘å¬é…ç½®å˜åŒ–"><a href="#3-6-å®¢æˆ·ç«¯ç›‘å¬é…ç½®å˜åŒ–" class="headerlink" title="3.6 å®¢æˆ·ç«¯ç›‘å¬é…ç½®å˜åŒ–"></a>3.6 å®¢æˆ·ç«¯ç›‘å¬é…ç½®å˜åŒ–</h2><p>é€šè¿‡ä¸Šè¿°è·å–é…ç½®ä»£ç ï¼Œåº”ç”¨å°±èƒ½å®æ—¶è·å–åˆ°æœ€æ–°çš„é…ç½®äº†ã€‚</p>
<p>ä¸è¿‡åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œåº”ç”¨è¿˜éœ€è¦åœ¨é…ç½®å˜åŒ–æ—¶è·å¾—é€šçŸ¥ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥çš„åˆ‡æ¢ç­‰ï¼Œæ‰€ä»¥Apolloè¿˜æä¾›äº†ç›‘å¬é…ç½®å˜åŒ–çš„åŠŸèƒ½ï¼ŒJavaç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs java">Config config = ConfigService.getAppConfig();
config.addChangeListener(<span class="hljs-keyword">new</span> ConfigChangeListener() &#123;
  <span class="hljs-meta">@Override</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onChange</span><span class="hljs-params">(ConfigChangeEvent changeEvent)</span> </span>&#123;
    <span class="hljs-keyword">for</span> (String key : changeEvent.changedKeys()) &#123;
      ConfigChange change = changeEvent.getChange(key);
      System.out.println(String.format(
        <span class="hljs-string">"Found change - key: %s, oldValue: %s, newValue: %s, changeType: %s"</span>,
        change.getPropertyName(), change.getOldValue(),
        change.getNewValue(), change.getChangeType()));
     &#125;
  &#125;
&#125;);</code></pre></div>

<h2 id="3-7-Springé›†æˆæ ·ä¾‹"><a href="#3-7-Springé›†æˆæ ·ä¾‹" class="headerlink" title="3.7 Springé›†æˆæ ·ä¾‹"></a>3.7 Springé›†æˆæ ·ä¾‹</h2><p>Apolloå’ŒSpringä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿åœ°é›†æˆï¼Œåªéœ€è¦æ ‡æ³¨@EnableApolloConfigåå°±å¯ä»¥é€šè¿‡@Valueè·å–é…ç½®ä¿¡æ¯ï¼š</p>
<div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableApolloConfig</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppConfig</span> </span>&#123;&#125;
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SomeBean</span> </span>&#123;
    <span class="hljs-comment">//timeoutçš„å€¼ä¼šè‡ªåŠ¨æ›´æ–°</span>
    <span class="hljs-meta">@Value</span>(<span class="hljs-string">"$&#123;request.timeout:200&#125;"</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> timeout;
&#125;</code></pre></div>

<h1 id="4-å®¢æˆ·ç«¯é›†æˆApollo"><a href="#4-å®¢æˆ·ç«¯é›†æˆApollo" class="headerlink" title="4. å®¢æˆ·ç«¯é›†æˆApollo"></a>4. å®¢æˆ·ç«¯é›†æˆApollo</h1><h2 id="4-1-å¼€å‘ç¯å¢ƒ"><a href="#4-1-å¼€å‘ç¯å¢ƒ" class="headerlink" title="4.1 å¼€å‘ç¯å¢ƒ"></a>4.1 å¼€å‘ç¯å¢ƒ</h2><h3 id="4-1-1-java"><a href="#4-1-1-java" class="headerlink" title="4.1.1 java"></a>4.1.1 java</h3><ul>
<li><strong>ApolloæœåŠ¡ç«¯ï¼š1.8+</strong></li>
<li><strong>Apolloå®¢æˆ·ç«¯ï¼š1.7+</strong></li>
</ul>
<p>ç”±äºQuick Startä¼šåœ¨æœ¬åœ°åŒæ—¶å¯åŠ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œæ‰€ä»¥éœ€è¦åœ¨æœ¬åœ°å®‰è£…Java 1.8+ã€‚</p>
<p>åœ¨é…ç½®å¥½åï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š</p>
<div class="hljs"><pre><code class="hljs linux">java -version
æ ·ä¾‹è¾“å‡ºï¼š

java version &quot;1.8.0_74&quot;
Java(TM) SE Runtime Environment (build 1.8.0_74-b02)
Java HotSpot(TM) 64-Bit Server VM (build 25.74-b02, mixed mode)
Windowsç”¨æˆ·è¯·ç¡®ä¿JAVA_HOMEç¯å¢ƒå˜é‡å·²ç»è®¾ç½®ã€‚</code></pre></div>


<h3 id="4-1-2-mysql"><a href="#4-1-2-mysql" class="headerlink" title="4.1.2 mysql"></a>4.1.2 mysql</h3><ul>
<li><strong>ç‰ˆæœ¬è¦æ±‚ï¼š5.6.5+</strong></li>
</ul>
<p>Apolloçš„è¡¨ç»“æ„å¯¹timestampä½¿ç”¨äº†å¤šä¸ªdefaultå£°æ˜ï¼Œæ‰€ä»¥éœ€è¦5.6.5ä»¥ä¸Šç‰ˆæœ¬ã€‚</p>
<p>è¿æ¥ä¸ŠMySQLåï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š</p>
<div class="hljs"><pre><code class="hljs linux">SHOW VARIABLES WHERE Variable_name &#x3D; &#39;version&#39;;</code></pre></div>

<h3 id="4-1-3-ä¸‹è½½Quick-Startå®‰è£…åŒ…"><a href="#4-1-3-ä¸‹è½½Quick-Startå®‰è£…åŒ…" class="headerlink" title="4.1.3 ä¸‹è½½Quick Startå®‰è£…åŒ…"></a>4.1.3 ä¸‹è½½Quick Startå®‰è£…åŒ…</h3><p>æˆ‘ä»¬å‡†å¤‡å¥½äº†ä¸€ä¸ªQuick Startå®‰è£…åŒ…ï¼Œå¤§å®¶åªéœ€è¦ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå…å»äº†ç¼–è¯‘ã€æ‰“åŒ…è¿‡ç¨‹ã€‚</p>
<p>å®‰è£…åŒ…å…±50Mï¼Œå¦‚æœè®¿é—®githubç½‘é€Ÿä¸ç»™åŠ›çš„è¯ï¼Œå¯ä»¥ä»ç™¾åº¦ç½‘ç›˜ä¸‹è½½ã€‚</p>
<ul>
<li><strong>ä»Githubä¸‹è½½</strong><ul>
<li>checkoutæˆ–ä¸‹è½½<a href="https://github.com/nobodyiam/apollo-build-scripts" target="_blank" rel="noopener">apollo-build-scripts</a>é¡¹ç›®</li>
<li>ç”±äºQuick Starté¡¹ç›®æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ”¾åœ¨äº†å¦å¤–çš„repositoryï¼Œè¯·æ³¨æ„<a href="https://github.com/nobodyiam/apollo-build-scripts" target="_blank" rel="noopener">é¡¹ç›®åœ°å€</a><br><a href="https://github.com/nobodyiam/apollo-build-scripts" target="_blank" rel="noopener">https://github.com/nobodyiam/apollo-build-scripts</a></li>
</ul>
</li>
</ul>
<div class="hljs"><pre><code class="hljs linux">$ git clone https:&#x2F;&#x2F;github.com&#x2F;nobodyiam&#x2F;apollo-build-scripts.git</code></pre></div>

<ul>
<li><p><strong>ä»ç™¾åº¦ç½‘ç›˜ä¸‹è½½</strong></p>
<ul>
<li><a href="https://pan.baidu.com/s/1mhVf9va#list/path=/sharelink1426331153-165614845139829/apollo-quick-start&parentPath=/sharelink1426331153-165614845139829" target="_blank" rel="noopener">ç™¾åº¦ç½‘ç›˜ä¸‹è½½åœ°å€</a></li>
</ul>
</li>
</ul>
<p>Quick Startåªé’ˆå¯¹æœ¬åœ°æµ‹è¯•ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨æˆ·ä¸éœ€è¦è‡ªå·±ä¸‹è½½æºç æ‰“åŒ…ï¼Œåªéœ€è¦ä¸‹è½½å·²ç»æ‰“å¥½çš„åŒ…å³å¯ã€‚ä¸è¿‡ä¹Ÿæœ‰éƒ¨åˆ†ç”¨æˆ·å¸Œæœ›åœ¨ä¿®æ”¹ä»£ç åé‡æ–°æ‰“åŒ…ï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒå¦‚ä¸‹æ­¥éª¤ï¼š</p>
<p>ä¿®æ”¹apollo-configservice, apollo-adminserviceå’Œapollo-portalçš„pom.xmlï¼Œæ³¨é‡Šæ‰spring-boot-maven-pluginå’Œmaven-assembly-plugin<br>åœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œmvn clean package -pl apollo-assembly -am -DskipTests=true<br>å¤åˆ¶apollo-assembly/targetä¸‹çš„jaråŒ…ï¼Œrenameä¸ºapollo-all-in-one.jar</p>
<h2 id="4-2-å®‰è£…éƒ¨ç½²"><a href="#4-2-å®‰è£…éƒ¨ç½²" class="headerlink" title="4.2 å®‰è£…éƒ¨ç½²"></a>4.2 å®‰è£…éƒ¨ç½²</h2><h3 id="4-2-1-åˆ›å»ºæ•°æ®åº“"><a href="#4-2-1-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="4.2.1 åˆ›å»ºæ•°æ®åº“"></a>4.2.1 åˆ›å»ºæ•°æ®åº“</h3><p>ApolloæœåŠ¡ç«¯å…±éœ€è¦ä¸¤ä¸ªæ•°æ®åº“ï¼šApolloPortalDBå’ŒApolloConfigDBï¼Œæˆ‘ä»¬æŠŠæ•°æ®åº“ã€è¡¨çš„åˆ›å»ºå’Œæ ·ä¾‹æ•°æ®éƒ½åˆ†åˆ«å‡†å¤‡äº†sqlæ–‡ä»¶ï¼Œåªéœ€è¦å¯¼å…¥æ•°æ®åº“å³å¯ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä½ æœ¬åœ°å·²ç»åˆ›å»ºè¿‡Apolloæ•°æ®åº“ï¼Œè¯·æ³¨æ„å¤‡ä»½æ•°æ®ã€‚æˆ‘ä»¬å‡†å¤‡çš„sqlæ–‡ä»¶ä¼šæ¸…ç©ºApolloç›¸å…³çš„è¡¨ã€‚</p>
</blockquote>
<p>æ‰§è¡Œä»¥ä¸‹sqlå¯¼å…¥sqlæ‰§è¡Œè„šæœ¬ï¼š</p>
<div class="hljs"><pre><code class="hljs sql">source /your_local_path/sql/apolloportaldb.sql

source /your_local_path/sql/apolloconfigdb.sql</code></pre></div>

<h3 id="4-2-2-é…ç½®æ•°æ®åº“é“¾æ¥"><a href="#4-2-2-é…ç½®æ•°æ®åº“é“¾æ¥" class="headerlink" title="4.2.2 é…ç½®æ•°æ®åº“é“¾æ¥"></a>4.2.2 é…ç½®æ•°æ®åº“é“¾æ¥</h3><p>ApolloæœåŠ¡ç«¯éœ€è¦çŸ¥é“å¦‚ä½•è¿æ¥åˆ°ä½ å‰é¢åˆ›å»ºçš„æ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦ç¼–è¾‘demo.shï¼Œä¿®æ”¹ApolloPortalDBå’ŒApolloConfigDBç›¸å…³çš„æ•°æ®åº“è¿æ¥ä¸²ä¿¡æ¯ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå¡«å…¥çš„ç”¨æˆ·éœ€è¦å…·å¤‡å¯¹ApolloPortalDBå’ŒApolloConfigDBæ•°æ®çš„è¯»å†™æƒé™ã€‚</p>
</blockquote>
<div class="hljs"><pre><code class="hljs linux">#apollo config db info
apollo_config_db_url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;ApolloConfigDB?characterEncoding&#x3D;utf8
apollo_config_db_username&#x3D;ç”¨æˆ·å
apollo_config_db_password&#x3D;å¯†ç ï¼ˆå¦‚æœæ²¡æœ‰å¯†ç ï¼Œç•™ç©ºå³å¯ï¼‰

# apollo portal db info
apollo_portal_db_url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;ApolloPortalDB?characterEncoding&#x3D;utf8
apollo_portal_db_username&#x3D;ç”¨æˆ·å
apollo_portal_db_password&#x3D;å¯†ç ï¼ˆå¦‚æœæ²¡æœ‰å¯†ç ï¼Œç•™ç©ºå³å¯ï¼‰</code></pre></div>

<h3 id="4-2-3-å¯åŠ¨Apollo"><a href="#4-2-3-å¯åŠ¨Apollo" class="headerlink" title="4.2.3 å¯åŠ¨Apollo"></a>4.2.3 å¯åŠ¨Apollo</h3><p>Quick Startè„šæœ¬ä¼šåœ¨æœ¬åœ°å¯åŠ¨3ä¸ªæœåŠ¡ï¼Œåˆ†åˆ«ä½¿ç”¨8070, 8080, 8090ç«¯å£ï¼Œè¯·ç¡®ä¿è¿™3ä¸ªç«¯å£å½“å‰æ²¡æœ‰è¢«ä½¿ç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨Linux/Macä¸‹ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š</p>
<div class="hljs"><pre><code class="hljs linux">lsof -i:8080 æŸ¥çœ‹8080ç«¯å£æ˜¯å¦è¢«å ç”¨

netstart -tunlp|grep 8080 æŸ¥çœ‹8080ç«¯å£æ˜¯å¦è¢«å ç”¨

ps aux|grep apollo æŸ¥çœ‹Apolloè¿›ç¨‹æ˜¯å¦è¿è¡Œ</code></pre></div>

<p>æ‰§è¡Œè„šæœ¬:</p>
<div class="hljs"><pre><code class="hljs linux">.&#x2F;demo.sh start  å¼€å¯æœåŠ¡ç«¯è¿è¡Œï¼ˆstart services and portalï¼‰
.&#x2F;demo.sh stop   åœæ­¢æœåŠ¡ç«¯è¿è¡Œï¼ˆstop services and portalï¼‰
.&#x2F;demo.sh client å¼€å¯å®¢æˆ·ç«¯è¿è¡Œï¼ˆstart client demo programï¼‰</code></pre></div>

<p>è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸï¼š</p>
<div class="hljs"><pre><code class="hljs linux">&#x3D;&#x3D;&#x3D;&#x3D; starting service &#x3D;&#x3D;&#x3D;&#x3D;
Service logging file is .&#x2F;service&#x2F;apollo-service.log
Started [10768]
Waiting for config service startup.......
Config service started. You may visit http:&#x2F;&#x2F;localhost:8080 for service status now!
Waiting for admin service startup....
Admin service started
&#x3D;&#x3D;&#x3D;&#x3D; starting portal &#x3D;&#x3D;&#x3D;&#x3D;
Portal logging file is .&#x2F;portal&#x2F;apollo-portal.log
Started [10846]
Waiting for portal startup......
Portal started. You can visit http:&#x2F;&#x2F;localhost:8070 now!</code></pre></div>

<h2 id="4-3-ä½¿ç”¨Apolloé…ç½®ä¸­å¿ƒ"><a href="#4-3-ä½¿ç”¨Apolloé…ç½®ä¸­å¿ƒ" class="headerlink" title="4.3 ä½¿ç”¨Apolloé…ç½®ä¸­å¿ƒ"></a>4.3 ä½¿ç”¨Apolloé…ç½®ä¸­å¿ƒ</h2><h3 id="4-3-1-æœåŠ¡å™¨ç«¯æ­å»º"><a href="#4-3-1-æœåŠ¡å™¨ç«¯æ­å»º" class="headerlink" title="4.3.1 æœåŠ¡å™¨ç«¯æ­å»º"></a>4.3.1 æœåŠ¡å™¨ç«¯æ­å»º</h3><p>è®¿é—®<a href="http://localhost:8070" target="_blank" rel="noopener">http://localhost:8070</a></p>
<p><img src="https://image.focusprogram.top/apollo-login.png" srcset="/img/loading.gif" alt=""></p>
<p>é»˜è®¤ç”¨æˆ·åå¯†ç apollo/admin,å¦‚éœ€ä¿®æ”¹å‚è€ƒ<a href="https://github.com/ctripcorp/apollo/wiki/Portal-%E5%AE%9E%E7%8E%B0%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD" target="_blank" rel="noopener">Portal å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½
</a></p>
<p><img src="https://image.focusprogram.top/apollo-sample-home.png" srcset="/img/loading.gif" alt=""></p>
<p>ç‚¹å‡»SampleAppè¿›å…¥é…ç½®ç•Œé¢ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰æœ‰ä¸€ä¸ªé…ç½®timeout=100</p>
<p><img src="https://image.focusprogram.top/sample-app-config.png" srcset="/img/loading.gif" alt=""></p>
<blockquote>
<p>å¦‚æœæç¤ºç³»ç»Ÿå‡ºé”™ï¼Œè¯·é‡è¯•æˆ–è”ç³»ç³»ç»Ÿè´Ÿè´£äººï¼Œè¯·ç¨åå‡ ç§’é’Ÿé‡è¯•ä¸€ä¸‹ï¼Œå› ä¸ºé€šè¿‡Eurekaæ³¨å†Œçš„æœåŠ¡æœ‰ä¸€ä¸ªåˆ·æ–°çš„å»¶æ—¶ã€‚</p>
</blockquote>
<p>æ–°å»ºä¸€ä¸ªé…ç½®ä¸­å¿ƒ:</p>
<p><img src="https://image.focusprogram.top/20200307105252.png" srcset="/img/loading.gif" alt=""></p>
<p>æ–°å¢é…ç½®ï¼š</p>
<p><img src="https://image.focusprogram.top/20200307105521.png" srcset="/img/loading.gif" alt=""></p>
<blockquote>
<p>æ³¨ï¼šå¯ä»¥é€šè¿‡æ–‡æœ¬çš„æ–¹å¼ä¸€æ¬¡æ·»åŠ å¤šä¸ªé…ç½®</p>
</blockquote>
<p>ç‚¹å‡»å‘å¸ƒï¼š</p>
<p><img src="https://image.focusprogram.top/20200307105824.png" srcset="/img/loading.gif" alt=""></p>
<h3 id="4-3-2-å®¢æˆ·ç«¯æ­å»ºåŸºäºSpringBoot"><a href="#4-3-2-å®¢æˆ·ç«¯æ­å»ºåŸºäºSpringBoot" class="headerlink" title="4.3.2 å®¢æˆ·ç«¯æ­å»ºåŸºäºSpringBoot"></a>4.3.2 å®¢æˆ·ç«¯æ­å»ºåŸºäºSpringBoot</h3><p>1.å¼•å…¥mavenä¾èµ–</p>
<div class="hljs"><pre><code class="hljs java">&lt;!-- apollo æºç¨‹apolloé…ç½®ä¸­å¿ƒæ¡†æ¶ --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.ctrip.framework.apollo&lt;/groupId&gt;
            &lt;artifactId&gt;apollo-client&lt;/artifactId&gt;
            &lt;version&gt;1.0.0&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.ctrip.framework.apollo&lt;/groupId&gt;
            &lt;artifactId&gt;apollo-core&lt;/artifactId&gt;
            &lt;version&gt;1.0.0&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;</code></pre></div>
<p>2.é¡¹ç›®ç»“æ„ä¸ºï¼š</p>
<p><img src="https://image.focusprogram.top/20200307104203.png" srcset="/img/loading.gif" alt=""></p>
<ul>
<li><p><strong>app.properties</strong></p>
<div class="hljs"><pre><code class="hljs ini"><span class="hljs-attr">app.id</span>=apolloConfig
<span class="hljs-attr">apollo.meta</span>=http://<span class="hljs-number">114.55</span>.<span class="hljs-number">34.44</span>:<span class="hljs-number">8080</span></code></pre></div>
</li>
<li><p><strong>apollo-env.properties</strong></p>
<div class="hljs"><pre><code class="hljs ini"><span class="hljs-attr">local.meta</span>=http://<span class="hljs-number">114.55</span>.<span class="hljs-number">34.44</span>:<span class="hljs-number">8080</span>
<span class="hljs-attr">dev.meta</span>=http://<span class="hljs-number">114.55</span>.<span class="hljs-number">34.44</span>:<span class="hljs-number">8080</span>
<span class="hljs-attr">fat.meta</span>=<span class="hljs-variable">$&#123;fat_meta&#125;</span>
<span class="hljs-attr">uat.meta</span>=<span class="hljs-variable">$&#123;uat_meta&#125;</span>
<span class="hljs-attr">lpt.meta</span>=<span class="hljs-variable">$&#123;lpt_meta&#125;</span>
<span class="hljs-attr">pro.meta</span>=<span class="hljs-variable">$&#123;pro_meta&#125;</span></code></pre></div>
</li>
<li><p><strong>application.yml</strong></p>
<div class="hljs"><pre><code class="hljs less"><span class="hljs-attribute">server</span>:
  <span class="hljs-attribute">port</span>: <span class="hljs-number">9000</span>
<span class="hljs-attribute">spring</span>:
  <span class="hljs-attribute">application</span>:
    <span class="hljs-attribute">name</span>: apollo-demo
<span class="hljs-attribute">eureka</span>:
  <span class="hljs-attribute">client</span>:
    <span class="hljs-attribute">service-url</span>:
      <span class="hljs-attribute">defaultZone</span>: <span class="hljs-attribute">http</span>:<span class="hljs-comment">//114.55.34.44:8080/eureka</span></code></pre></div>

</li>
</ul>
<p>Controllerå±‚å®ç°ï¼š</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"apollo"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApolloController</span> </span>&#123;

    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;name:æ— æ³•è¯»å–åˆ°å€¼&#125;</span>"</span>)</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;age:<span class="hljs-number">0</span>&#125;</span>"</span>)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Long</span> age;

    <span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/getname"</span>)</span>
    <span class="hljs-keyword">public</span> String getName() &#123;
        <span class="hljs-keyword">return</span> name + <span class="hljs-string">"çš„å¹´é¾„"</span> + age;
    &#125;
&#125;</code></pre></div>

<p>é¡¹ç›®å¯åŠ¨ç±»ä»£ç ç±»å®ç°ï¼š</p>
<div class="hljs"><pre><code class="hljs less"><span class="hljs-variable">@Configuration</span>
<span class="hljs-variable">@SpringBootApplication</span>
<span class="hljs-variable">@EnableApolloConfig</span>
public class ApollodemoApplication &#123;

    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) &#123;
        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(ApollodemoApplication.class, args);
    &#125;

&#125;</code></pre></div>

<p>è®¿é—® <a href="http://localhost:9000/apollo/getname" target="_blank" rel="noopener">http://localhost:9000/apollo/getname</a></p>
<p><img src="https://image.focusprogram.top/20200307111511.png" srcset="/img/loading.gif" alt=""></p>
<p>ä¿®æ”¹nameå€¼åï¼Œé‡æ–°è®¿é—®ï¼Œå®æ—¶åŠ¨æ€æ›´æ–°</p>
<p><img src="https://image.focusprogram.top/20200307111635.png" srcset="/img/loading.gif" alt=""></p>
<p><img src="https://image.focusprogram.top/20200307111710.png" srcset="/img/loading.gif" alt=""></p>
<h2 id="4-4-ä½¿ç”¨Apolloç°åº¦å‘å¸ƒ"><a href="#4-4-ä½¿ç”¨Apolloç°åº¦å‘å¸ƒ" class="headerlink" title="4.4 ä½¿ç”¨Apolloç°åº¦å‘å¸ƒ"></a>4.4 ä½¿ç”¨Apolloç°åº¦å‘å¸ƒ</h2><h3 id="4-4-1-å‡†å¤‡ä¸¤å°æœåŠ¡å™¨"><a href="#4-4-1-å‡†å¤‡ä¸¤å°æœåŠ¡å™¨" class="headerlink" title="4.4.1 å‡†å¤‡ä¸¤å°æœåŠ¡å™¨"></a>4.4.1 å‡†å¤‡ä¸¤å°æœåŠ¡å™¨</h3><table>
<thead>
<tr>
<th>é›†ç¾¤èŠ‚ç‚¹</th>
<th>ç«¯å£</th>
</tr>
</thead>
<tbody><tr>
<td>192.168.80.128</td>
<td>9000</td>
</tr>
<tr>
<td>192.168.80.135</td>
<td>9000</td>
</tr>
</tbody></table>
<p>è®¿é—®<a href="http://192.168.80.128:9000/apollo/getname" target="_blank" rel="noopener">http://192.168.80.128:9000/apollo/getname</a></p>
<p><img src="https://image.focusprogram.top/20200307112459.png" srcset="/img/loading.gif" alt=""></p>
<p>è®¿é—®<a href="http://192.168.80.135:9000/apollo/getname" target="_blank" rel="noopener">http://192.168.80.135:9000/apollo/getname</a></p>
<p><img src="https://image.focusprogram.top/20200307112514.png" srcset="/img/loading.gif" alt=""></p>
<p>Apolloæ·»åŠ ç°åº¦å‘å¸ƒ</p>
<p><img src="https://image.focusprogram.top/20200307112720.png" srcset="/img/loading.gif" alt=""></p>
<p><img src="https://image.focusprogram.top/20200307112758.png" srcset="/img/loading.gif" alt=""></p>
<p>é’ˆå¯¹192.168.80.128èŠ‚ç‚¹è¿›è¡Œç°åº¦å‘å¸ƒ</p>
<p><img src="https://image.focusprogram.top/20200307112850.png" srcset="/img/loading.gif" alt=""></p>
<p><img src="https://image.focusprogram.top/20200307112917.png" srcset="/img/loading.gif" alt=""></p>
<p>è®¿é—®<a href="http://192.168.80.128:9000/apollo/getname" target="_blank" rel="noopener">http://192.168.80.128:9000/apollo/getname</a>å·²ç»å‘ç”Ÿå˜åŒ–</p>
<p><img src="https://image.focusprogram.top/20200307112940.png" srcset="/img/loading.gif" alt=""></p>
<p>è®¿é—®<a href="http://192.168.80.135:9000/apollo/getname" target="_blank" rel="noopener">http://192.168.80.135:9000/apollo/getname</a>æœªå‘ç”Ÿå˜åŒ–</p>
<p><img src="https://image.focusprogram.top/20200307112514.png" srcset="/img/loading.gif" alt=""></p>
<blockquote>
<p>è‡³æ­¤ï¼ŒApolloçš„ç°åº¦å‘å¸ƒå·²ç»ç”Ÿæ•ˆï¼Œå¦‚æœæµ‹è¯•ç°åº¦å‘å¸ƒèŠ‚ç‚¹æ²¡æœ‰é—®é¢˜å¯ä»¥è¿›è¡Œå…¨é‡å‘å¸ƒåŒæ­¥åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œå¦‚æœæµ‹è¯•ç°åº¦å‘å¸ƒèŠ‚ç‚¹å­˜åœ¨é—®é¢˜å¯ä»¥æ”¾å¼ƒç°åº¦å‘å¸ƒï¼Œä¼šæ¢å¤è‡³ä»¥å‰çš„é…ç½®æ–‡ä»¶ç‰ˆæœ¬ã€‚</p>
</blockquote>
<h1 id="5-å¸¸è§é—®é¢˜"><a href="#5-å¸¸è§é—®é¢˜" class="headerlink" title="5. å¸¸è§é—®é¢˜"></a>5. å¸¸è§é—®é¢˜</h1><ul>
<li><strong>é—®é¢˜ä¸€ï¼šåªåœ¨Mavenä¸­å¯¼å…¥äº†clientä¾èµ–</strong></li>
</ul>
<div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-tag">Exception</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">thread</span> "<span class="hljs-selector-tag">main</span>" <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.NoClassDefFoundError</span>: <span class="hljs-selector-tag">Could</span> <span class="hljs-selector-tag">not</span> <span class="hljs-selector-tag">initialize</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.ctrip</span><span class="hljs-selector-class">.framework</span><span class="hljs-selector-class">.apollo</span><span class="hljs-selector-class">.tracer</span><span class="hljs-selector-class">.Tracer</span>
      <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.ctrip</span><span class="hljs-selector-class">.framework</span><span class="hljs-selector-class">.apollo</span><span class="hljs-selector-class">.build</span><span class="hljs-selector-class">.ApolloInjector</span><span class="hljs-selector-class">.getInstance</span>(<span class="hljs-selector-tag">ApolloInjector</span><span class="hljs-selector-class">.java</span><span class="hljs-selector-pseudo">:37)</span>
      <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.ctrip</span><span class="hljs-selector-class">.framework</span><span class="hljs-selector-class">.apollo</span><span class="hljs-selector-class">.ConfigService</span><span class="hljs-selector-class">.getManager</span>(<span class="hljs-selector-tag">ConfigService</span><span class="hljs-selector-class">.java</span><span class="hljs-selector-pseudo">:25)</span>
      <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.ctrip</span><span class="hljs-selector-class">.framework</span><span class="hljs-selector-class">.apollo</span><span class="hljs-selector-class">.ConfigService</span><span class="hljs-selector-class">.getConfig</span>(<span class="hljs-selector-tag">ConfigService</span><span class="hljs-selector-class">.java</span><span class="hljs-selector-pseudo">:61)</span></code></pre></div>

<p>è§£å†³åŠæ³•ï¼š</p>
<p>å¯¼å…¥åŒç‰ˆæœ¬çš„apollo-coreä¾èµ–</p>
<ul>
<li><strong>é—®é¢˜äºŒï¼šeurekaè§£æä¸ºå†…ç½‘åœ°å€</strong></li>
</ul>
<div class="hljs"><pre><code class="hljs xquery">Sync config failed, will retry. Repository class com.ctrip.framework.apollo.internals.RemoteConfigRepository, 
reason: Load Apollo Config failed - appId: bitongchong_bos, cluster: <span class="hljs-keyword">default</span>, namespace: application, 
url: http://æ­¤å¤„æ˜¯ç§æœ‰ip:<span class="hljs-number">8080</span>/configs/bitongchong_bos/<span class="hljs-keyword">default</span>/application?ip=<span class="hljs-number">192.168</span>.<span class="hljs-number">102.1</span>&amp;messages=<span class="hljs-meta">%7B</span><span class="hljs-meta">%22details</span><span class="hljs-meta">%22</span><span class="hljs-meta">%3A</span><span class="hljs-meta">%7B</span><span class="hljs-meta">%22bitongchong_bos</span><span class="hljs-meta">%2Bdefault</span><span class="hljs-meta">%2Bapplication</span><span class="hljs-meta">%22</span><span class="hljs-meta">%3A6</span><span class="hljs-meta">%7D</span><span class="hljs-meta">%7D</span>&amp;releaseKey=<span class="hljs-number">20190803112627</span>-<span class="hljs-number">2</span>b5dd0e414976d16 
[Cause: Could<span class="hljs-built_in"> not</span> complete get operation [Cause: connect timed out]]</code></pre></div>

<p>è§£å†³åŠæ³•ï¼š</p>
<ol>
<li>é¡¹ç›®å¯åŠ¨æ—¶æŒ‡å®šå¯åŠ¨å‚æ•°ï¼š</li>
</ol>
<p>-Deureka.instance.ip-address=å…¬ç½‘åœ°å€</p>
<ol start="2">
<li>ä¿®æ”¹Apolloå¯åŠ¨è„šæœ¬ï¼š</li>
</ol>
<p>-Deureka.instance.ip-address=114.55.34.44â€</p>
<p><img src="https://image.focusprogram.top/20200307114400.png" srcset="/img/loading.gif" alt=""></p>
<p><img src="https://image.focusprogram.top/20200307114508.png" srcset="/img/loading.gif" alt=""></p>
<ul>
<li><strong>é—®é¢˜ä¸‰ï¼šæœªå¯¹apollo.meta å±æ€§è¿›è¡Œæ­£ç¡®èµ‹å€¼</strong></li>
</ul>
<div class="hljs"><pre><code class="hljs basic"><span class="hljs-number">2020</span>-<span class="hljs-number">03</span>-<span class="hljs-number">04</span> <span class="hljs-number">01</span>:<span class="hljs-number">34</span>:<span class="hljs-number">28.169</span>  WARN <span class="hljs-number">21840</span> --- [           main] c.c.f.a.i.AbstractConfigRepository       : Sync config failed, will retry. Repository class <span class="hljs-keyword">com</span>.ctrip.framework.apollo.internals.<span class="hljs-comment">RemoteConfigRepository, reason: Get config services failed from http://xx.xx.xx.xx:8070/services/config?appId=SPOC_Platform&amp;ip=192.168.102.1 [Cause: Could not complete get operation [Cause: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $ [Cause: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $]]]</span>
<span class="hljs-number">2020</span>-<span class="hljs-number">03</span>-<span class="hljs-number">04</span> <span class="hljs-number">01</span>:<span class="hljs-number">34</span>:<span class="hljs-number">30.511</span>  WARN <span class="hljs-number">21840</span> --- [           main] c.c.f.a.i.LocalFileConfigRepository      : Sync config from upstream repository class <span class="hljs-keyword">com</span>.ctrip.framework.apollo.internals.<span class="hljs-comment">RemoteConfigRepository failed, reason: Get config services failed from http://xx.xx.xx.xx:8070/services/config?appId=SPOC_Platform&amp;ip=192.168.102.1 [Cause: Could not complete get operation [Cause: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $ [Cause: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $]]]</span></code></pre></div>

<p>è§£å†³åŠæ³•ï¼š</p>
<p>è¿™ä¸ªæ˜¯æœªå¯¹apollo.meta å±æ€§è¿›è¡Œæ­£ç¡®èµ‹å€¼ï¼Œå¿…é¡»æ˜¯eurekaçš„åœ°å€å’Œç«¯å£ï¼Œå°±æ˜¯ä½ è¾“å…¥è¿™ä¸ªurl+ç«¯å£çš„æ—¶å€™è·³è½¬åˆ°çš„æ˜¯eurekaè¿™ä¸ªç•Œé¢ï¼Œè€Œéapolloç®¡ç†é¡µé¢ï¼Œå¦åˆ™å¿…å®šæŠ¥é”™</p>
<div class="hljs"><pre><code class="hljs routeros">-Dapollo.<span class="hljs-attribute">meta</span>=http://ip:8080 <span class="hljs-attribute">-Denv</span>=dev</code></pre></div>

<h1 id="6-Apolloç›¸æ¯”äºSpring-Cloud-Configæœ‰ä»€ä¹ˆä¼˜åŠ¿"><a href="#6-Apolloç›¸æ¯”äºSpring-Cloud-Configæœ‰ä»€ä¹ˆä¼˜åŠ¿" class="headerlink" title="6. Apolloç›¸æ¯”äºSpring Cloud Configæœ‰ä»€ä¹ˆä¼˜åŠ¿?"></a>6. Apolloç›¸æ¯”äºSpring Cloud Configæœ‰ä»€ä¹ˆä¼˜åŠ¿?</h1><table>
<thead>
<tr>
<th>åŠŸèƒ½ç‚¹</th>
<th>Apollo</th>
<th>Spring Cloud Config</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>é…ç½®ç•Œé¢</td>
<td>ä¸€ä¸ªç•Œé¢ç®¡ç†ä¸åŒç¯å¢ƒã€ä¸åŒé›†ç¾¤é…ç½®</td>
<td>æ— ï¼Œéœ€è¦é€šè¿‡gitæ“ä½œ</td>
<td></td>
</tr>
<tr>
<td>é…ç½®ç”Ÿæ•ˆæ—¶é—´</td>
<td>å®æ—¶</td>
<td>é‡å¯ç”Ÿæ•ˆï¼Œæˆ–æ‰‹åŠ¨refreshç”Ÿæ•ˆ</td>
<td>Spring Cloud Configéœ€è¦é€šè¿‡Git webhookï¼ŒåŠ ä¸Šé¢å¤–çš„æ¶ˆæ¯é˜Ÿåˆ—æ‰èƒ½æ”¯æŒå®æ—¶ç”Ÿæ•ˆ</td>
</tr>
<tr>
<td>ç‰ˆæœ¬ç®¡ç†</td>
<td>ç•Œé¢ä¸Šç›´æ¥æä¾›å‘å¸ƒå†å²å’Œå›æ»šæŒ‰é’®</td>
<td>æ— ï¼Œéœ€è¦é€šè¿‡gitæ“ä½œ</td>
<td></td>
</tr>
<tr>
<td>ç°åº¦å‘å¸ƒ</td>
<td>æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
<td></td>
</tr>
<tr>
<td>æˆæƒã€å®¡æ ¸ã€å®¡è®¡</td>
<td>ç•Œé¢ä¸Šç›´æ¥æ”¯æŒï¼Œè€Œä¸”æ”¯æŒä¿®æ”¹ã€å‘å¸ƒæƒé™åˆ†ç¦»</td>
<td>éœ€è¦é€šè¿‡gitä»“åº“è®¾ç½®ï¼Œä¸”ä¸æ”¯æŒä¿®æ”¹ã€å‘å¸ƒæƒé™åˆ†ç¦»</td>
<td></td>
</tr>
<tr>
<td>å®ä¾‹é…ç½®ç›‘æ§</td>
<td>å¯ä»¥æ–¹ä¾¿çš„çœ‹åˆ°å½“å‰å“ªäº›å®¢æˆ·ç«¯åœ¨ä½¿ç”¨å“ªäº›é…ç½®</td>
<td>ä¸æ”¯æŒ</td>
<td></td>
</tr>
<tr>
<td>é…ç½®è·å–æ€§èƒ½</td>
<td>å¿«ï¼Œé€šè¿‡æ•°æ®åº“è®¿é—®ï¼Œè¿˜æœ‰ç¼“å­˜æ”¯æŒ</td>
<td>è¾ƒæ…¢ï¼Œéœ€è¦ä»git clone repositoryï¼Œç„¶åä»æ–‡ä»¶ç³»ç»Ÿè¯»å–</td>
<td></td>
</tr>
<tr>
<td>å®¢æˆ·ç«¯æ”¯æŒ</td>
<td>åŸç”Ÿæ”¯æŒæ‰€æœ‰Javaå’Œ.Netåº”ç”¨ï¼Œæä¾›APIæ”¯æŒå…¶å®ƒè¯­è¨€åº”ç”¨ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒSpring annotationè·å–é…ç½®</td>
<td>æ”¯æŒSpringåº”ç”¨ï¼Œæä¾›annotationè·å–é…ç½®</td>
<td>Apolloçš„é€‚ç”¨èŒƒå›´æ›´å¹¿ä¸€äº›</td>
</tr>
</tbody></table>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/k-focusprogram.gitee.io/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">å¾®æœåŠ¡</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/k-focusprogram.gitee.io/tags/SpringCloud/">SpringCloud</a>
                    
                      <a class="hover-with-bg" href="/k-focusprogram.gitee.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">å¾®æœåŠ¡</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/k-focusprogram.gitee.io/2020/07/11/Consul/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Consul</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/k-focusprogram.gitee.io/2020/07/11/zipkin/">
                        <span class="hidden-mobile">zipkin</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <div id="vcomments"></div>
  <script type="text/javascript">
    function loadValine() {
      addScript('https://cdn.staticfile.org/valine/1.4.14/Valine.min.js', function () {
        new Valine({
          el: "#vcomments",
          app_id: "XjjXuhrzyfTeHFAzz4XEQWeA-gzGzoHsz",
          app_key: "VOV2U2qRAhtqyuBiioUEvrNV",
          placeholder: "ç•™ä¸‹æ‚¨æƒ³è¯´çš„è¯å§(*^â–½^*)",
          path: window.location.pathname,
          avatar: "wavatar",
          meta: ["nick","mail"],
          pageSize: "10",
          lang: "zh-CN",
          highlight: true,
          recordIP: true,
          serverURLs: "",
        });
      });
    }
    createObserver(loadValine, 'vcomments');
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://valine.js.org" target="_blank" rel="nofollow noopener noopener">comments
      powered by Valine.</a></noscript>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!--
<script src="https://utteranc.es/client.js"
        repo="FocusProgram/focusprogram.github.io"
        issue-term="title"
        label="utterances"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
-->


<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
<div id="dark-div">
  <a id="dark" onclick="switchDarkMode()"></a>
</div>
<script>
  var isNight = new Date().getHours() >= 22 || new Date().getHours() < 7;
  if( matchMedia('(prefers-color-scheme: dark)').matches || isNight || localStorage.getItem('dark') === '1') {
    if(!(isNight&&localStorage.getItem('noDark') === '1')) {
      document.body.classList.add('dark');
    }
  }
  document.getElementById('dark').innerHTML = document.querySelector("body").classList.contains("dark")?"ğŸŒ™":"ğŸŒ";
</script>
  <div class="text-center py-3">
    <div>
      <a rel="nofollow noopener"><span>æ°¸è¿œæ‰§ç€&nbsp;&nbsp;</span></a>
      <i class="iconfont icon-love"></i>
      <a rel="nofollow noopener">
        <span>&nbsp;&nbsp;æ°¸è¿œçƒ­çˆ±</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


    
  <!-- å¤‡æ¡ˆä¿¡æ¯ -->
  <div class="beian">
    <img src="https://image.focusprogram.top/icp_beian.png" srcset="/k-focusprogram.gitee.io/img/loading.gif" style="margin-top:-5px">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">è‹ICPå¤‡19063834å·-1</a>
    
      <a
        href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44030602004695"
        rel="nofollow noopener"
        class="beian-police"
        target="_blank"
      >
        <span class="beian-police-sep">&nbsp;|&nbsp;</span>
        
          <img src="/k-focusprogram.gitee.io/img/police_beian.png" srcset="/k-focusprogram.gitee.io/img/loading.gif" alt="police-icon" />
        
        <span>è‹å…¬å®‰ç½‘å¤‡44030602004695å·</span>
      </a>
     
  </div>


    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/k-focusprogram.gitee.io/js/debouncer.js" ></script>
<script  src="/k-focusprogram.gitee.io/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/k-focusprogram.gitee.io/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/k-focusprogram.gitee.io/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Apollo&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/k-focusprogram.gitee.io/js/local-search.js" ></script>
  <script>
    var path = "/k-focusprogram.gitee.io/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>









  <script>(function (i, s, o, g, r, a, m) {
      i['DaoVoiceObject'] = r;
      i[r] = i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        };
      i[r].l = 1 * new Date();
      a = s.createElement(o);
      m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      a.charset = 'utf-8';
      m.parentNode.insertBefore(a, m);
    })(window, document, 'script', ('https:' === document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/98eb4efd.js", 'daovoice');
    daovoice('init', {
      app_id: "98eb4efd",
    });
    daovoice('update');
  </script>









  

  

  

  

  

  




</body>
</html>